{% extends 'base/base.html' %}
{% block title %}تاریخچه سفارش‌ها{% endblock title %}
{% load static %}
{% block start %}

<link href="https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap" rel="stylesheet">

<style>
  body {
    font-family: 'Vazirmatn', sans-serif;
    direction: rtl;
  }
  .card {
    border-radius: 8px;
    box-shadow: 0 0.15rem 1.75rem 0 rgb(33 40 50 / 15%);
  }
  .btn-primary, .btn-outline-primary {
    background-color: #0066cc;
    border-color: #0066cc;
  }
  .btn-primary:hover, .btn-outline-primary:hover {
    background-color: #004d99;
    border-color: #004d99;
  }
  .table th, .table td {
    text-align: right;
  }
</style>

<div class="container mt-4">
  <h3 class="form-group mb-4">تاریخچه سفارش‌ها</h3>
  <div class="table-responsive">
    <table class="table table-striped table-hover text-center">
      <thead class="thead-dark">
        <tr>
          <th>شماره سفارش</th>
          <th>تاریخ</th>
          <th>وضعیت</th>
          <th>جمع کل</th>
          <th>روش پرداخت</th>
          <th>عملیات</th>
        </tr>
      </thead>
      <tbody>
        {% for order in orders %}
        <tr>
          <td>{{ order.order_id }}</td>
          <td>{{ order.order_date|date:"j F Y" }}</td>
          <td>
            <span
              class="badge {% if order.payment_status == 'Paid' %}badge-success{% else %}badge-warning{% endif %}"
            >
              {{ order.payment_status }}
            </span>
          </td>
          <td>{{ order.grand_total }} ریال</td>
          <td>{{ order.payment_mode }}</td>
          <td>
            <a href="{% url 'order_details' order.order_id %}" class="btn btn-outline-primary btn-sm">
              مشاهده جزئیات
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}